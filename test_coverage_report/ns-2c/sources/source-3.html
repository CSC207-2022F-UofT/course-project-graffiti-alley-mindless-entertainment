


<!DOCTYPE html>
<html id="htmlId">
<head>
  <title>Coverage Report > Quest</title>
  <style type="text/css">
    @import "../../css/coverage.css";
    @import "../../css/idea.min.css";
  </style>
  <script type="text/javascript" src="../../js/highlight.min.js"></script>
  <script type="text/javascript" src="../../js/highlightjs-line-numbers.min.js"></script>
</head>

<body>
<div class="content">
<div class="breadCrumbs">
Current scope:     <a href="../../index.html">all classes</a>
    <span class="separator">|</span>
    <a href="../index.html">quests.entities</a>
</div>

<h1>Coverage Summary for Class: Quest (quests.entities)</h1>

<table class="coverageStats">

<tr>
  <th class="name">Class</th>
<th class="coverageStat 
">
  Method, %
</th>
<th class="coverageStat 
">
  Line, %
</th>
</tr>
<tr>
  <td class="name">Quest</td>
<td class="coverageStat">
  <span class="percent">
    75%
  </span>
  <span class="absValue">
    (6/8)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    71.4%
  </span>
  <span class="absValue">
    (15/21)
  </span>
</td>
</tr>
  <tr>
    <td class="name">Quest$SaveQuest</td>
<td class="coverageStat">
  <span class="percent">
    88.9%
  </span>
  <span class="absValue">
    (8/9)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    85.7%
  </span>
  <span class="absValue">
    (30/35)
  </span>
</td>
  </tr>
<tr>
  <td class="name"><strong>Total</strong></td>
<td class="coverageStat">
  <span class="percent">
    82.4%
  </span>
  <span class="absValue">
    (14/17)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    80.4%
  </span>
  <span class="absValue">
    (45/56)
  </span>
</td>
</tr>
</table>

<br/>
<br/>


<pre>
<code class="sourceCode" id="sourceCode">&nbsp;package quests.entities;
&nbsp;
&nbsp;import character.entities.Bystander;
&nbsp;
&nbsp;import java.util.ArrayList;
&nbsp;import java.util.List;
&nbsp;
&nbsp;import quests.use_cases.Reward;
&nbsp;import quests.use_cases.StatisticalReward;
&nbsp;import quests.use_cases.StatisticalTask;
&nbsp;import quests.use_cases.Task;
&nbsp;import save.entities.SavableEntity;
&nbsp;import save.entities.SaveEntityId;
&nbsp;
&nbsp;/**
&nbsp; * This class contains a quest object that can be completed by
&nbsp; */
&nbsp;public class Quest {
&nbsp;
&nbsp;    /**
&nbsp;     * Attributes.
&nbsp;     */
&nbsp;    // Stores the name of the quest.
&nbsp;    private String name;
&nbsp;    // Stores the description of the quest.
&nbsp;    private String description;
&nbsp;    // Stores the status of the quest. If true: quest is completed. Otherwise, false: ongoing quest.
&nbsp;    private boolean isCompleted;
&nbsp;    // Stores the overseer (NPC) of the quest.
&nbsp;    private Bystander overseer;
&nbsp;    // Stores the list of tasks that need to be completed.
&nbsp;    private List&lt;Task&gt; tasks;
&nbsp;    // Stores the reward that can be assigned by Quest Manager to the player, when quest is completed.
&nbsp;    private Reward reward;
&nbsp;    // Stores whether the Reward has been received by the player.
&nbsp;    private boolean isRewardDistributed;
&nbsp;
&nbsp;    /**
&nbsp;     * Constructors.
&nbsp;     */
&nbsp;    // Constructor requesting all the attributes to define a quest.
<b class="fc">&nbsp;    public Quest(String name, String description, Bystander overseer, Reward reward, List&lt;Task&gt; tasks) {</b>
<b class="fc">&nbsp;        this.name = name;</b>
<b class="fc">&nbsp;        this.description = description;</b>
<b class="fc">&nbsp;        this.isCompleted = false;</b>
<b class="fc">&nbsp;        this.setOverseer(overseer);</b>
<b class="fc">&nbsp;        this.reward = reward;</b>
<b class="fc">&nbsp;        this.tasks = tasks;</b>
<b class="fc">&nbsp;        this.isRewardDistributed = false;</b>
&nbsp;    }
&nbsp;
&nbsp;    /**
&nbsp;     * Sets a new overseer, to be assigned to this quest.
&nbsp;     * @param overseer: Bystander in charge of quest.
&nbsp;     */
&nbsp;    private void setOverseer(Bystander overseer) {
&nbsp;        // Checks whether the overseer is already assigned to a Quest or not.
<b class="fc">&nbsp;        if (!overseer.hasQuest()) {</b>
&nbsp;            // Sets the overseer as overseer of the quest.
<b class="fc">&nbsp;            this.overseer = overseer;</b>
&nbsp;            // Changes the status of overseer&#39;s
<b class="fc">&nbsp;            this.overseer.switchHasQuest();</b>
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    /**
&nbsp;     * @return the lists of tasks that constitutes the quest.
&nbsp;     */
&nbsp;    public List&lt;Task&gt; getTasks() {
<b class="fc">&nbsp;        return this.tasks;</b>
&nbsp;    }
&nbsp;
&nbsp;    /**
&nbsp;     * @return the reward for completing the quest completed.
&nbsp;     */
&nbsp;    public Reward getReward() {
<b class="fc">&nbsp;        return this.reward;</b>
&nbsp;    }
&nbsp;
&nbsp;    /***
&nbsp;     * @return whether the reward for the quest has been distributed.
&nbsp;     */
<b class="fc">&nbsp;    public boolean isRewardDistributed() { return this.isRewardDistributed; }</b>
&nbsp;
&nbsp;
&nbsp;    /**
&nbsp;     * Checks whether the Quest is completed.
&nbsp;     *
&nbsp;     * @return true, if the status of the quest is completed.
&nbsp;     *         true, if all the quest&#39;s tasks are completed (in addition to change the quest&#39;s status to completed).
&nbsp;     *         false otherwise.
&nbsp;     */
&nbsp;    public boolean isCompleted() {
<b class="fc">&nbsp;        return this.isCompleted;</b>
&nbsp;    }
&nbsp;
&nbsp;    /**
&nbsp;     * Completes the quest.
&nbsp;     */
&nbsp;    public void complete() {
<b class="nc">&nbsp;        this.isCompleted = true;</b>
&nbsp;    }
&nbsp;
&nbsp;    /**
&nbsp;     * @return String containing the quest&#39;s name &amp; status.
&nbsp;     */
&nbsp;    @Override
&nbsp;    public String toString() {
<b class="nc">&nbsp;        StringBuilder str = new StringBuilder(this.name + &quot;, status: &quot;);</b>
&nbsp;
<b class="nc">&nbsp;        if (this.isCompleted) {</b>
<b class="nc">&nbsp;            str.append(&quot;completed.&quot;);</b>
&nbsp;        } else {
<b class="nc">&nbsp;            str.append(&quot;on going.&quot;);</b>
&nbsp;        }
<b class="nc">&nbsp;        return str.toString();</b>
&nbsp;    }
&nbsp;
&nbsp;
&nbsp;    /**
&nbsp;     * Innerclass for saving functionality of a Quest.
&nbsp;     */
<b class="fc">&nbsp;    public class SaveQuest implements SavableEntity {</b>
&nbsp;
&nbsp;        /**
&nbsp;         * @return a string representation of the quest to be saved
&nbsp;         */
&nbsp;        @Override
&nbsp;        public String toSavableString() {
<b class="fc">&nbsp;            return name + &quot;|&quot; + description + &quot;|&quot; + isCompleted + &quot;|&quot; + overseer.getName() +</b>
<b class="fc">&nbsp;                    &quot;|&quot; + overseer.hasQuest() + &quot;|&quot; + tasksToString() + &quot;|&quot; + rewardToString() +</b>
&nbsp;                    &quot;|&quot; + isRewardDistributed;
&nbsp;        }
&nbsp;
&nbsp;        /**
&nbsp;         * @return string with all the tasks.
&nbsp;         */
&nbsp;        public String tasksToString() {
<b class="fc">&nbsp;            StringBuilder str = new StringBuilder();</b>
&nbsp;
<b class="fc">&nbsp;            for (Task task: getTasks()) {</b>
<b class="fc">&nbsp;                if (!str.toString().equals(&quot;&quot;)) {</b>
<b class="fc">&nbsp;                    str.append(&quot;#&quot;);</b>
&nbsp;                }
<b class="fc">&nbsp;                str.append(task.toString());</b>
<b class="fc">&nbsp;            }</b>
&nbsp;
<b class="fc">&nbsp;            return str.toString();</b>
&nbsp;        }
&nbsp;
&nbsp;        /**
&nbsp;         * @return string with the reward.
&nbsp;         */
&nbsp;        public String rewardToString() {
<b class="fc">&nbsp;            return reward.toString();</b>
&nbsp;        }
&nbsp;
&nbsp;
&nbsp;        /**
&nbsp;         * @param str a string representation
&nbsp;         *            map the string representation to the corresponding object
&nbsp;         */
&nbsp;        @Override
&nbsp;        public void fromSavableString(String str) {
<b class="fc">&nbsp;            String[] questAttributes = str.split(&quot;\\|&quot;);</b>
&nbsp;
<b class="fc">&nbsp;            name = questAttributes[0];</b>
<b class="fc">&nbsp;            description = questAttributes[1];</b>
<b class="fc">&nbsp;            isCompleted = Boolean.parseBoolean(questAttributes[2]);</b>
<b class="fc">&nbsp;            overseer = new Bystander(questAttributes[3], Boolean.parseBoolean(questAttributes[4]));</b>
<b class="fc">&nbsp;            tasks = tasksFromString(questAttributes[5]);</b>
<b class="fc">&nbsp;            reward = rewardFromString(questAttributes[6]);</b>
<b class="fc">&nbsp;            isRewardDistributed = Boolean.parseBoolean(questAttributes[7]);</b>
&nbsp;        }
&nbsp;
&nbsp;        /**
&nbsp;         * @param str: contains the information for all the quests.
&nbsp;         * @return a list contains the tasks.
&nbsp;         */
&nbsp;        public List&lt;Task&gt; tasksFromString(String str) {
<b class="fc">&nbsp;            String[] tasksInformation = str.split(&quot;#&quot;);</b>
&nbsp;
<b class="fc">&nbsp;            List&lt;Task&gt; tasks = new ArrayList&lt;&gt;();</b>
&nbsp;
<b class="fc">&nbsp;            for (String task : tasksInformation) {</b>
<b class="fc">&nbsp;                tasks.add(taskFromString(task));</b>
&nbsp;            }
&nbsp;
<b class="fc">&nbsp;            return tasks;</b>
&nbsp;        }
&nbsp;
&nbsp;        /**
&nbsp;         * @param str: contains the information for a task.
&nbsp;         * @return a task object created through entered string.
&nbsp;         */
&nbsp;        public Task taskFromString(String str) {
<b class="fc">&nbsp;            if (&quot;statistical&quot;.equals(str.split(&quot;,&quot;)[0])) {</b>
<b class="nc">&nbsp;                Task task = new StatisticalTask(null, 0);</b>
<b class="nc">&nbsp;                task.changesFromString(str);</b>
<b class="nc">&nbsp;                return task;</b>
&nbsp;            }
<b class="fc">&nbsp;            return null;</b>
&nbsp;        }
&nbsp;
&nbsp;        /**
&nbsp;         *
&nbsp;         * @param str: contains the information for a reward.
&nbsp;         * @return a reward object created through the entered string.
&nbsp;         */
&nbsp;        public Reward rewardFromString(String str) {
<b class="fc">&nbsp;            if (&quot;statistical&quot;.equals(str.split(&quot;,&quot;)[0])) {</b>
<b class="fc">&nbsp;                Reward newReward = new StatisticalReward(null, 0);</b>
<b class="fc">&nbsp;                newReward.changesFromString(str);</b>
<b class="fc">&nbsp;                return newReward;</b>
&nbsp;            }
<b class="nc">&nbsp;            return null;</b>
&nbsp;        }
&nbsp;
&nbsp;        /**
&nbsp;         * @return the id of this entity in the saved entities list
&nbsp;         */
&nbsp;        @Override
&nbsp;        public SaveEntityId getId() {
<b class="nc">&nbsp;            return SaveEntityId.QUEST;</b>
&nbsp;        }
&nbsp;    }
&nbsp;}
</code>
</pre>
</div>

<script type="text/javascript">
(function() {
    var msie = false, msie9 = false;
    /*@cc_on
      msie = true;
      @if (@_jscript_version >= 9)
        msie9 = true;
      @end
    @*/

    if (!msie || msie && msie9) {
      hljs.highlightAll()
      hljs.initLineNumbersOnLoad();
    }
})();
</script>

<div class="footer">
    
    <div style="float:right;">generated on 2022-12-08 23:21</div>
</div>
</body>
</html>
